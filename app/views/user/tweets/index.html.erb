<div class="container px-5 px-sm-0">
  <div class="col-md-7">
    <div class="tweet-form">
      <%= form_for(@tweet) do |f| %>
        <div class="field">
          <%= f.text_area :content, placeholder: "投稿できます", style: "border: none; width: 100%;", class: "no-resize" %>
        </div>
        <div class="space-between">
          <%= f.label :picture, class: "image-upload-button" do %>
            <i class="far fa-image"></i>
            <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png', style: "display: none;" %>
          <% end %>
          <%= f.submit "投稿", class: "btn btn-dark", style: "float: right;" %>
        </div>
      <% end %>
    </div>
    <div style="box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 10px; border-radius: 10px; margin-bottom: 20px;">
      <div class="mt-3">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
          <div class="container">
            <ul class="navbar-nav mx-auto d-flex flex-row justify-content-center">
              <li class="nav-item">
                <a class="nav-link text-center px-5" href="#" id="allTweets">つぶやき</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-center px-5" href="#" id="followingTweets">フォロー</a>
              </li>
            </ul>
          </div>
        </nav>
        
        <div id="allTweetsContent">
          <%= render 'user/tweets/tweets', tweets: @tweets %>
        </div>
        <div id="followingTweets">
          <%= render 'user/tweets/following_tweets', tweets: @tweets %>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(function() {
    $('#allTweets').click(function(e) {
      e.preventDefault();
      $('.nav-link').removeClass('selected-link');
      $(this).addClass('selected-link');

      $.ajax({
        type: 'GET',
        url: '/tweets',
        success: function(response) {
          $('#allTweetsContent').html(response);
        },
        error: function(xhr, status, error) {
          console.error(error);
        }
      });
    });

    $('#followingTweets').click(function(e) {
      e.preventDefault();
      $('.nav-link').removeClass('selected-link');
      $(this).addClass('selected-link');

      $.ajax({
        type: 'GET',
        url: '/tweets/following_tweets',
        success: function(response) {
          $('#allTweetsContent').html(response);
        },
        error: function(xhr, status, error) {
          console.error(error);
        }
      });
    });
  });
</script>